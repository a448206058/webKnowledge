<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="time"></div>
<script>
    /**
     * @param {number[]} nums
     * @param {number} k
     * @param {number} t
     * @return {boolean}
     */

    var containsNearbyAlmostDuplicate = function(nums, k, t) {

        let set = new Set()
        for (let i = 0; i < nums.length; i++) {
            for (let val of set) {
                if (Math.abs(nums[i] - val) <= t) return true
            }
            set.add(nums[i])
            if (set.size > k) set.delete(nums[i - k])
        }
        return false
    };

    var nums = [1,2,3,1], k = 3, t = 0;

    // var nums = [1,0,1,1], k = 1, t = 2;

    // var nums = [1,5,9,1,5,9], k = 2, t = 3

    console.log(containsNearbyAlmostDuplicate(nums, k, t));
</script>
</body>
</html>
