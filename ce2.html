<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="time"></div>
<script>
    function bucketSort(arr, bucketSize) {
        if(arr.length === 0) {
            return arr;
        }

        var maxValue = Math.max(...arr);
        var minValue = Math.min(...arr);

        var len = arr.length;
        var defaultIndex = Math.floor((maxValue-minValue)/len);
        var result = new Array(defaultIndex);

        for(let i = 0; i < arr.length; i++){
            if(!result[Math.floor(arr[i] - minValue)]){
                result[Math.floor(arr[i] - minValue)] = [];
            }
            result[Math.floor(arr[i] - minValue)].push(arr[i]);
        }

        arr = [];
        for(let i = 0; i < result.length; i++){
            if(result[i]){
                insertionSort(result[i]);
                for(let j = 0; j < result[i].length;j++){
                    arr.push(result[i][j]);
                }
            }
        }
        return arr;
    }

    function insertionSort(arr) {
        var len = arr.length;
        var preIndex, current;
        for(let i = 1; i < len; i++){
            preIndex = i - 1;
            current = arr[i];
            while(preIndex >= 0 && current < arr[preIndex]){
                arr[preIndex + 1] = arr[preIndex];
                arr[preIndex] = current;
                preIndex--;
            }
        }
        return arr;
    }


    console.log(bucketSort([22,3,2,5,6,7,1,44,23,12,34]))
</script>
</body>
</html>
