<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="time"></div>
<script>
    /**
     * Definition for singly-linked list.
     * function ListNode(val, next) {
     *     this.val = (val===undefined ? 0 : val)
     *     this.next = (next===undefined ? null : next)
     * }
     */
	function ListNode(val, next) {
		 var head = {};
	     head.val = (val===undefined ? 0 : val)
	     head.next = (next===undefined ? null : next)
		 return head
	}

	function creatrLink(arr){
		if(arr.length === 0) {
			return null;
		}
		var head = new ListNode(arr[0]);
		var curNode = head;
		for (var i = 1; i < arr.length; i++){
			curNode.next = new ListNode(arr[i]);
			curNode = curNode.next;
		}
		return head;
	}

	function printLink(head){
		var curNode = head;
		while(curNode != null) {
			console.log(curNode.val)
			curNode = curNode.next;
		}
	}

    /**
     * @param {ListNode} head
     * @param {number} x
     * @return {ListNode}
     */
    var partition = function(head, x) {
        head = creatrLink(head);
        let small = new ListNode(0);
        const smallHead = small;
        let large = new ListNode(0);
        const largeHead = large;
        while (head !== null) {
            if (head.val < x) {
                small.next = head;
                small = small.next;
            } else {
                large.next = head;
                large = large.next;
            }
            head = head.next;
        }
        large.next = null;
        small.next = largeHead.next;
        return smallHead.next;
    };

    var addTwoNumbers = function(l1, l2) {
        l1 = creatrLink(l1)
        l2 = creatrLink(l2);

        var result = null;
        var head = null;
        var nodes1 = l1;
        var nodes2 = l2;
        var next = 0;
        while(nodes1 || nodes2){
            var total = (nodes1.val ? nodes1.val : 0) + (nodes2.val ? nodes2.val : 0) + next;
            next = Math.floor(total / 10);
            total = total % 10;
            nodes1 = nodes1.next ? nodes1.next : 0;
            nodes2 = nodes2.next ? nodes2.next : 0;
            if(!head){
                head = result = new ListNode(total);
            }else{
                result.next = new ListNode(total);
                result = result.next;
            }
        }
        if (next > 0) {
            result.next = new ListNode(next);
        }
        return head;
    };

    // let head = null, tail = null;
    // let carry = 0;
    // while (l1 || l2) {
    //     const n1 = l1 ? l1.val : 0;
    //     const n2 = l2 ? l2.val : 0;
    //     const sum = n1 + n2 + carry;
    //     if (!head) {
    //         head = tail = new ListNode(sum % 10);
    //     } else {
    //         tail.next = new ListNode(sum % 10);
    //         tail = tail.next;
    //     }
    //     carry = Math.floor(sum / 10);
    //     if (l1) {
    //         l1 = l1.next;
    //     }
    //     if (l2) {
    //         l2 = l2.next;
    //     }
    // }
    // if (carry > 0) {
    //     tail.next = new ListNode(carry);
    // }
    //
    // return head;

    var l1 = [2,4,3], l2 = [5,6,4];
    // var l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9];
    console.log(addTwoNumbers(l1, l2))
</script>
</body>
</html>
