### redux使用
第1次 ：2021-07-28 14:15 — 5分钟  1
第2次 ：2021-07-28 14:40 — 30分钟  1
第3次 ：2021-07-29 02:10 — 12小时
第4次 ：2021-07-29 14:10 — 1天
第5次 ：2021-07-30 14:10 — 2天
第6次 ：2021-08-01 14:10 — 4天
第7次 ：2021-08-04 14:10 — 7天
第8次 ：2021-08-12 14:10 — 15天

* 基本概念
* 单项数据流
    dispatch(action)
    reducer -> newState
    subscribe 触发通知
* react-redux
    <Provider> connect
    connect
    mapStateToProps mapDispatchToProps
* 异步action
* 中间件

### React-router 使用
第1次 ：2021-07-28 14:16 — 5分钟  1
第2次 ：2021-07-28 14:41 — 30分钟  1
第3次 ：2021-07-29 02:11 — 12小时
第4次 ：2021-07-29 14:11 — 1天  1
第5次 ：2021-07-30 14:11 — 2天
第6次 ：2021-08-01 14:11 — 4天
第7次 ：2021-08-04 14:11 — 7天
第8次 ：2021-08-12 14:11 — 15天

* 路由模式（hash、H5 history),同vue-router
* 路由配置（动态路由、懒加载），同vue-router
```JavaScript
lazy(() => import)

<Suspense>
</Suspense>
```

### react原理
* 函数式编程
* vdom 和 diff
* JSX本质
* 合成事件
* setState batchUpdate
* 组件渲染过程

### 函数式编程
第1次 ：2021-07-28 14:18 — 5分钟  1
第2次 ：2021-07-28 14:43 — 30分钟  1
第3次 ：2021-07-29 02:13 — 12小时
第4次 ：2021-07-29 14:13 — 1天  1
第5次 ：2021-07-30 14:13 — 2天
第6次 ：2021-08-01 14:13 — 4天
第7次 ：2021-08-04 14:13 — 7天
第8次 ：2021-08-12 14:13 — 15天

* 一种编程范式，概念比较多
* 纯函数
* 不可变值

### 回顾vdom和diff
第1次 ：2021-07-28 14:19 — 5分钟  1
第2次 ：2021-07-28 14:44 — 30分钟  1
第3次 ：2021-07-29 02:14 — 12小时
第4次 ：2021-07-29 14:14 — 1天  1
第5次 ：2021-07-30 14:14 — 2天
第6次 ：2021-08-01 14:14 — 4天
第7次 ：2021-08-04 14:14 — 7天
第8次 ：2021-08-12 14:14 — 15天

* h函数
* vnode数据结构
* patch函数

* 只比较同一层级，不跨级比较
* tag不相同，则直接删掉重建，不再深度比较
* tag和key，俩者都相同，则认为是相同节点，不再深度比较

* vue2.x vur3.0 React三者实现vdom细节都不同
* 核心概念和实现思路，都一样
* 面试主要考察后者，不用全部掌握细节

### JSX本质
第1次 ：2021-07-28 14:25 — 5分钟  1
第2次 ：2021-07-28 14:50 — 30分钟  1
第3次 ：2021-07-29 02:20 — 12小时
第4次 ：2021-07-29 14:20 — 1天  1
第5次 ：2021-07-30 14:20 — 2天
第6次 ：2021-08-01 14:20 — 4天
第7次 ：2021-08-04 14:20 — 7天
第8次 ：2021-08-12 14:20 — 15天

* JSX等同于vue模版
* vue模版不是html
* JSX也不是JS

* jsx即createElement函数
* 执行生成vnode
* patch(elem, vnode) 和 patch(vnode, newVnode)


### 合成事件
第1次 ：2021-07-28 14:27 — 5分钟  1
第2次 ：2021-07-28 14:52 — 30分钟  1
第3次 ：2021-07-29 02:22 — 12小时
第4次 ：2021-07-29 14:22 — 1天  1
第5次 ：2021-07-30 14:22 — 2天  1
第6次 ：2021-08-01 14:22 — 4天
第7次 ：2021-08-04 14:22 — 7天
第8次 ：2021-08-12 14:22 — 15天

* 所有事件挂载到document上
* event不是原生的，是SyntheticEvent合成事件对象
* 和Vue事件不同，和DOM事件也不同

### 为何要合成事件机制？
第1次 ：2021-07-28 14:28 — 5分钟  1
第2次 ：2021-07-28 14:53 — 30分钟  1
第3次 ：2021-07-29 02:23 — 12小时
第4次 ：2021-07-29 14:23 — 1天  1
第5次 ：2021-07-30 14:23 — 2天
第6次 ：2021-08-01 14:23 — 4天
第7次 ：2021-08-04 14:23 — 7天
第8次 ：2021-08-12 14:23 — 15天

* 更好的兼容性和跨平台
* 挂载到document,减少内存消耗，避免频繁解绑
* 方便事件的统一管理（如事务机制）

react17事件绑定到root组件上
有利于多个react版本并存，例如微前端

### setState 和 batchUpdate
* 有时异步（普通使用），有时同步（setTimeout、DOM事件）
* 有时合并（对象形式），有时不合并（函数形式）
* 后者比较好理解（像Object.assign），主要讲解前者

* setState主流程
* batchUpdate机制
* transaction(事务)机制

### setState异步还是同步？
第1次 ：2021-07-28 14:35 — 5分钟  1
第2次 ：2021-07-28 15:00 — 30分钟  1
第3次 ：2021-07-29 02:30 — 12小时
第4次 ：2021-07-29 14:30 — 1天  1
第5次 ：2021-07-30 14:30 — 2天
第6次 ：2021-08-01 14:30 — 4天
第7次 ：2021-08-04 14:30 — 7天
第8次 ：2021-08-12 14:30 — 15天

* setState无所谓异步还是同步
* 看是否能命中batchUpdate机制
* 判断isBatchingUpdates

### 哪些能命中batchUpdate机制
第1次 ：2021-07-28 14:35 — 5分钟  1
第2次 ：2021-07-28 15:00 — 30分钟  1
第3次 ：2021-07-29 02:30 — 12小时
第4次 ：2021-07-29 14:30 — 1天   1
第5次 ：2021-07-30 14:30 — 2天
第6次 ：2021-08-01 14:30 — 4天
第7次 ：2021-08-04 14:30 — 7天
第8次 ：2021-08-12 14:30 — 15天

* 生命周期（和它调用的函数）
* React中注册的事件（和它调用的函数）
* React可以“管理”的入口

### 哪些不能命中batchUpdate机制
第1次 ：2021-07-28 15:05 — 5分钟  1
第2次 ：2021-07-28 15:30 — 30分钟  1
第3次 ：2021-07-29 03:00 — 12小时
第4次 ：2021-07-29 15:00 — 1天  1
第5次 ：2021-07-30 15:00 — 2天
第6次 ：2021-08-01 15:00 — 4天
第7次 ：2021-08-04 15:00 — 7天
第8次 ：2021-08-12 15:00 — 15天

* setTimeout setInterval等（和它调用的函数）
* 自定义的DOM事件（和它调用的函数）
* React"管不到“的入口

### transaction 事务机制

### 组件渲染和更新过程
第1次 ：2021-07-28 15:08 — 5分钟  1
第2次 ：2021-07-28 15:33 — 30分钟  1
第3次 ：2021-07-29 03:03 — 12小时
第4次 ：2021-07-29 15:03 — 1天  1
第5次 ：2021-07-30 15:03 — 2天
第6次 ：2021-08-01 15:03 — 4天
第7次 ：2021-08-04 15:03 — 7天
第8次 ：2021-08-12 15:03 — 15天

* props state
* render() 生成 vnode
* patch(elem, vnode)

### 组件更新过程
第1次 ：2021-07-28 15:10 — 5分钟  1
第2次 ：2021-07-28 15:35 — 30分钟  1
第3次 ：2021-07-29 03:05 — 12小时
第4次 ：2021-07-29 15:05 — 1天  1
第5次 ：2021-07-30 15:05 — 2天
第6次 ：2021-08-01 15:05 — 4天
第7次 ：2021-08-04 15:05 — 7天
第8次 ：2021-08-12 15:05 — 15天

* setState(newState) --> dirtyComponents(可能有子组件)
* render()生成newVnode
* patch(vnode, newVnode)分为俩个阶段
* 第一阶段reconciliation 阶段 - 执行 diff算法，纯JS计算
* commit阶段 - 将diff结果渲染dom

### 可能会有性能问题
第1次 ：2021-07-28 15:11 — 5分钟  1
第2次 ：2021-07-28 15:36 — 30分钟  1
第3次 ：2021-07-29 03:06 — 12小时
第4次 ：2021-07-29 15:06 — 1天  1
第5次 ：2021-07-30 15:06 — 2天
第6次 ：2021-08-01 15:06 — 4天
第7次 ：2021-08-04 15:06 — 7天
第8次 ：2021-08-12 15:06 — 15天

* js是单线程，且和dom渲染共用一个线程
* 当组件足够复杂，组件更新时计算和渲染都压力大
* 同时再有DOM操作需求（动画，鼠标拖拽等），将卡顿

### 解决方案 fiber
第1次 ：2021-07-28 15:32 — 5分钟  1
第2次 ：2021-07-28 15:57 — 30分钟  1
第3次 ：2021-07-29 03:27 — 12小时
第4次 ：2021-07-29 15:27 — 1天  1
第5次 ：2021-07-30 15:27 — 2天
第6次 ：2021-08-01 15:27 — 4天
第7次 ：2021-08-04 15:27 — 7天
第8次 ：2021-08-12 15:27 — 15天

* 将reconciliation阶段进行任务拆分（commit无法拆分）
* dom需要渲染时暂停，空闲时恢复
* window.requestIdleCallback

### 组件之间如何通讯？
第1次 ：2021-07-28 15:40 — 5分钟    1
第2次 ：2021-07-28 16:05 — 30分钟
第3次 ：2021-07-29 03:35 — 12小时
第4次 ：2021-07-29 15:35 — 1天  1
第5次 ：2021-07-30 15:35 — 2天
第6次 ：2021-08-01 15:35 — 4天
第7次 ：2021-08-04 15:35 — 7天
第8次 ：2021-08-12 15:35 — 15天
* 父子组件props
* 自定义事件
* Redux和Context

### JSX本质是什么？
第1次 ：2021-07-28 15:46 — 5分钟   1
第2次 ：2021-07-28 16:11 — 30分钟
第3次 ：2021-07-29 03:41 — 12小时
第4次 ：2021-07-29 15:41 — 1天  1
第5次 ：2021-07-30 15:41 — 2天
第6次 ：2021-08-01 15:41 — 4天
第7次 ：2021-08-04 15:41 — 7天
第8次 ：2021-08-12 15:41 — 15天

* createElement
* 执行返回vnode

### Context是什么，如何应用？
第1次 ：2021-07-28 15:47 — 5分钟  1
第2次 ：2021-07-28 16:12 — 30分钟
第3次 ：2021-07-29 03:42 — 12小时
第4次 ：2021-07-29 15:42 — 1天  1
第5次 ：2021-07-30 15:42 — 2天
第6次 ：2021-08-01 15:42 — 4天
第7次 ：2021-08-04 15:42 — 7天
第8次 ：2021-08-12 15:42 — 15天

* 父组件，向其下所有子孙组件传递信息
* 如一些简单的公共信息：主题色、语言等
* 复杂的公共信息，请用redux

### shouldComponentUpdate用途
第1次 ：2021-07-28 15:47 — 5分钟  1
第2次 ：2021-07-28 16:12 — 30分钟
第3次 ：2021-07-29 03:42 — 12小时
第4次 ：2021-07-29 15:42 — 1天  1
第5次 ：2021-07-30 15:42 — 2天
第6次 ：2021-08-01 15:42 — 4天
第7次 ：2021-08-04 15:42 — 7天
第8次 ：2021-08-12 15:42 — 15天

* 性能优化
* 配合“不可变值”一起使用，否则会出错

### redux单项数据流
第1次 ：2021-07-28 15:48 — 5分钟  1
第2次 ：2021-07-28 16:13 — 30分钟
第3次 ：2021-07-29 03:43 — 12小时
第4次 ：2021-07-29 15:43 — 1天  1
第5次 ：2021-07-30 15:43 — 2天 
第6次 ：2021-08-01 15:43 — 4天
第7次 ：2021-08-04 15:43 — 7天
第8次 ：2021-08-12 15:43 — 15天

action (Creator) -> dispatch(middleware) -> reducer -> State -> view -> action     -> action

### 什么是纯函数
第1次 ：2021-07-28 15:48 — 5分钟  1
第2次 ：2021-07-28 16:13 — 30分钟
第3次 ：2021-07-29 03:43 — 12小时
第4次 ：2021-07-29 15:43 — 1天  1
第5次 ：2021-07-30 15:43 — 2天
第6次 ：2021-08-01 15:43 — 4天
第7次 ：2021-08-04 15:43 — 7天
第8次 ：2021-08-12 15:43 — 15天

* 返回一个新值，没有副作用（不会“偷偷”修改其他值）
* 重点：不可变值
* 如 arr1 = arr.slice()

### React组件生命周期
* 单组件生命周期
* 父子组件生命周期关系
* 注意scu

### React发起ajax应该在哪个生命周期
* 同Vue
* componentDidMount

### 渲染列表，为何使用key
第1次 ：2021-07-28 15:50 — 5分钟  1
第2次 ：2021-07-28 16:15 — 30分钟
第3次 ：2021-07-29 03:45 — 12小时
第4次 ：2021-07-29 15:45 — 1天  1
第5次 ：2021-07-30 15:45 — 2天
第6次 ：2021-08-01 15:45 — 4天
第7次 ：2021-08-04 15:45 — 7天
第8次 ：2021-08-12 15:45 — 15天

* 同VUE。必须用key，且不能是index和random
* diff算法中通过tag和key来判断，是否是sameNode
* 减少渲染次数，提升渲染性能

### 函数组件和class组件区别
第1次 ：2021-07-28 15:53 — 5分钟  1
第2次 ：2021-07-28 16:18 — 30分钟
第3次 ：2021-07-29 03:48 — 12小时
第4次 ：2021-07-29 15:48 — 1天  1
第5次 ：2021-07-30 15:48 — 2天
第6次 ：2021-08-01 15:48 — 4天
第7次 ：2021-08-04 15:48 — 7天
第8次 ：2021-08-12 15:48 — 15天

* 纯函数，输入props，输出JSX
* 没有实例，没有生命周期，没有state
* 不能扩展其他方法

### 什么是受控组件？
第1次 ：2021-07-28 15:53 — 5分钟   1
第2次 ：2021-07-28 16:18 — 30分钟
第3次 ：2021-07-29 03:48 — 12小时
第4次 ：2021-07-29 15:48 — 1天  1
第5次 ：2021-07-30 15:48 — 2天
第6次 ：2021-08-01 15:48 — 4天
第7次 ：2021-08-04 15:48 — 7天
第8次 ：2021-08-12 15:48 — 15天

* 表单的值，受state控制
* 需要自行监听onChange,更新state
* 对比非受控组件