<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="time"></div>
<script>
    /**
     * // This is the interface that allows for creating nested lists.
     * // You should not implement it, or speculate about its implementation
     * function NestedInteger() {
     *
     *     Return true if this NestedInteger holds a single integer, rather than a nested list.
     *     @return {boolean}
     *     this.isInteger = function() {
     *         ...
     *     };
     *
     *     Return the single integer that this NestedInteger holds, if it holds a single integer
     *     Return null if this NestedInteger holds a nested list
     *     @return {integer}
     *     this.getInteger = function() {
     *         ...
     *     };
     *
     *     Return the nested list that this NestedInteger holds, if it holds a nested list
     *     Return null if this NestedInteger holds a single integer
     *     @return {NestedInteger[]}
     *     this.getList = function() {
     *         ...
     *     };
     * };
     */
    /**
     * @constructor
     * @param {NestedInteger[]} nestedList
     */
    var NestedIterator = function(nestedList) {
        this.value = nestedList;
        this.index = -1;
        return this;
    };


    /**
     * @this NestedIterator
     * @returns {boolean}
     */
    NestedIterator.prototype.hasNext = function() {
        let _this = this;
        let index = this.index+1;
        return _this.value[index] ? true : false;

    };

    /**
     * @this NestedIterator
     * @returns {integer}
     */
    NestedIterator.prototype.next = function() {
        let _this = this;
        _this.index = _this.index + 1;
        if(typeof _this.value[_this.index] == 'number'){
            // _this.value.unshift();
            return _this.value[_this.index];
        }else{
            // let op = [0][0];

            if(_this.value[_this.index].length > 0){
                var i1 = new NestedIterator(_this.value[_this.index]);
                // _this.value[_this.index]
                // while (i1.hasNext()) {
                //     let value = i1.next()
                //     a1.push(value);
                // }
                // console.log(i1.value)
                let values = i1.value.splice(0, 1)[0];
                // console.log(i1.value)
                // console.log(values)
                // _this.index--;
                _this.value.splice(_this.index-1,1, i1.value);
                // console.log(_this.value)
                // console.log(_this.value[op][0])
                console.log(i1.value)
                console.log(values)
                _this.index = _this.index-1;
                return values;
            }else{
                return "";
            }
        }
    };

    var nestedList = [[1,3],2,[1,5]]

    // var nestedList = [1,2,3,4,5]

    var i = new NestedIterator(nestedList), a = [];
    // console.log(i.hasNext())
    // console.log(i.next())
    // console.log(i.index)
    // console.log(i.hasNext())
    // console.log(i.next())
    // console.log(i.index)

    while (i.hasNext()) {
        let value = i.next()
        a.push(value);
    }
    console.log(i);
    console.log(a)

    /**
     * Your NestedIterator will be called like this:
     * var i = new NestedIterator(nestedList), a = [];
     * while (i.hasNext()) a.push(i.next());
     */
</script>
</body>
</html>
