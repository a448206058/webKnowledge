<script>
  // 8 4 2 1
  // 32 16 8 4 2 1
  // 1

  // [["X","X","X","X"],["X","X","X","X"],["X","X","X","X"],["X","O","X","X"]]

  // X X X X 
  // X O O X
  // X X O X
  // X O X X
  var solve = function (board) {
    let d = [[-1, 0], [0, 1], [1, 0], [0, -1]]
    let m = board.length, n = board[0].length;
    const visited = new Array(m);
    for (let i = 0; i < visited.length; i++) {
      visited[i] = new Array(n).fill(false);
    }

    const inArea = (x, y) => {
      return x >= 0 && x < m && y >= 0 && y < n;
    }

    const dfs = (grid, x, y) => {
      visited[x][y] = true;
      for (let i = 0; i < 4;i++){
        let newx = x + d[i][0];
        let newy = y + d[i][1];
        if(inArea(newx, newy) && !visited[newx][newy] && grid[newx][newy] == 'O'){
          dfs(grid, newx, newy)
        }
      }
    }

    const res = 0;

    for(let i = 0;i < board.length; i++){
      for (let j = 0;j < board[i].length;j++){
        if(board[i][j] === "O" && !visited[i][j]){
          res++;
        }
      }
    }
  };

  var board = [["X", "X", "X", "X"], ["X", "O", "O", "X"], ["X", "X", "O", "X"], ["X", "O", "X", "X"]];
  console.log(solve(board));


  var numIslands = function (board) {
    let d = [[-1, 0], [0, 1], [1, 0], [0, -1]]
    let m, n;
    m = board.length;
    if (m == 0) {
      return m
    }
    n = board[0].length;
    const visited = new Array(m);
    for (let i = 0; i < visited.length; ++i) {
      visited[i] = new Array(n).fill(false);
    }
    const inArea = (x, y) => {
      return x >= 0 && x < m && y >= 0 && y < n;
    }

    const dfs = (grid, x, y) => {
      visited[x][y] = true;
      for (let i = 0; i < 4; i++) {
        let newx = x + d[i][0];
        let newy = y + d[i][1];
        if (inArea(newx, newy) && !visited[newx][newy] && grid[newx][newy] == '1') {
          dfs(grid, newx, newy);
        }
      }
      return
    }


    let res = 0;
    for (let i = 0; i < board.length; i++) {
      for (let j = 0; j < board[i].length; j++) {
        if (board[i][j] == '1' && !visited[i][j]) {
          res++;
          dfs(board, i, j);
        }
      }
    }

    return res;
  };
</script>